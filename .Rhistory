parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("name", "state", "city", "ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("name", "state", "city", "ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$avg_family_income_independents_log
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("name", "state", "city", "ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
parsed_data$results$latest$student
parsed_data$results$latest$student$grad_students
parsed_data$results$latest$student$share_lowincome
parsed_data$results$latest$school$endowment
parsed_data$results$latest$admissions
parsed_data$results$latest$repayment
parsed_data$results$latest$aid
parsed_data$results$latest$student$family_income
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("name", "state", "city", "ownership")) %>%
group_by("ownership")
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership")) %>%
group_by(ownership) %>%
summarise(size=sum(size), dependent_students=sum(dependent_students), independent_students = sum(independent_students))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select("ownership") %>%
group_by(ownership) %>%
summarise(size=sum(size), dependent_students=sum(dependent_students), independent_students = sum(independent_students))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select("ownership") %>%
group_by(ownership) %>%
summarise(c(size=sum(size), dependent_students=sum(dependent_students), independent_students = sum(independent_students)))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select("ownership") %>%
group_by(ownership) %>%
summarise(total_size=sum(size), total_dependent_students=sum(dependent_students), total_independent_students = sum(independent_students))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble() %>%
group_by(ownership) %>%
summarise(total_size=sum(size), total_dependent_students=sum(dependent_students), total_independent_students = sum(independent_students))
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$family_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble() %>%
group_by(city) %>%
summarise(total_size=sum(size), total_dependent_students=sum(dependent_students), total_independent_students = sum(independent_students))
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble() %>%
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble() %>%
return(financial_bg_data)
}
financial_info()
parsed_data$results$latest$student$demographics$median_hh_income
parsed_data$results$latest$student$demographics
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble() %>%
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", ownership="private", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "&school.ownership=", ownership_cat, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
ownership_cat <- ifelse(ownership=="public", "1",
ifelse(ownership=="private", "2",
ifelse(ownership=="proprietary", "3", "ERROR")))
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$poverty_rate
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$avg_family_income_log
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$median_hh_income_log
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
family_income <- parsed_data$results$latest$student$demographics$poverty_rate
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
poverty_rate <- parsed_data$results$latest$student$demographics$poverty_rate
financial_bg_data <-
cbind(school, size, family_income) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
poverty_rate <- parsed_data$results$latest$student$demographics$poverty_rate
financial_bg_data <-
cbind(school, size, poverty_rate) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
financial_info <- function(key="k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT", state="NC", n=50, size = "asc")
{
url <- paste0("http://api.data.gov/ed/collegescorecard/v1/schools?api_key=", key, "&per_page=", n, "school.state=", state, "&sort=student.size:", size)
data <- GET(url)
parsed_data <- fromJSON(rawToChar(data$content))
school <- parsed_data$results$latest$school %>%
select(c("ownership", "city", "name"))
school$ownership <- as.factor(school$ownership)
levels(school$ownership) <- c("Public", "Private, Nonprofit", "Proprietary")
size <- parsed_data$results$latest$student$size
poverty_rate <- parsed_data$results$latest$student$demographics$poverty_rate
financial_bg_data <-
cbind(school, size, poverty_rate) %>%
as_tibble()
return(financial_bg_data)
}
financial_info()
