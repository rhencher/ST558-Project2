"0","financial_info <- function(key=""k42psBgICW3DEe6eS1gc7AxbTTYtOwOGN9URGVuT"", state=""NC"", n=50, size = ""asc"")"
"0","{"
"0","                                   "
"0","  url <- paste0(""http://api.data.gov/ed/collegescorecard/v1/schools?api_key="", key, ""&per_page="", n, ""school.state="", state, ""&sort=student.size:"", size)"
"0",""
"0","  data <- GET(url)"
"0",""
"0","  parsed_data <- fromJSON(rawToChar(data$content))"
"0","  "
"0","  school <- parsed_data$results$latest$school %>% "
"0","    select(c(""ownership"", ""city"", ""name"")) "
"0","  "
"0","  school$ownership <- as.factor(school$ownership)"
"0","        levels(school$ownership) <- c(""Public"", ""Private, Nonprofit"", ""Proprietary"")"
"0","  "
"0","  size <- parsed_data$results$latest$student$size"
"0","  "
"0","  poverty_rate <- parsed_data$results$latest$student$demographics$poverty_rate"
"0","  "
"0","  financial_bg_data <- "
"0","    cbind(school, size, poverty_rate) %>%"
"0","    as_tibble() "
"0",""
"0","return(financial_bg_data)"
"0","}"
"0","financial_info()"
"2","Warning:"
"2"," closing unused connection 23 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 22 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 21 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 20 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 19 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 18 (<-localhost:11902)
"
"2","Warning:"
"2"," closing unused connection 17 (<-localhost:11902)
"
